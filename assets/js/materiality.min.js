/* materiality-typecho-theme
 * https://github.com/EAimTY/materiality-typecho-theme
 * Licensed under The GNU General Public License v3.0
 */function commentRespond(){document.getElementById("respondid")&&(window.TypechoComment={dom:function(a){return document.getElementById(a)},create:function(a,b){var c=document.createElement(a);for(var e in b)c.setAttribute(e,b[e]);return c},reply:function(b,c){var e,f=this.dom(b),d=(f.parentNode,this.dom(mdui.$("#respondid").html())),g=this.dom("comment-parent"),h="form"==d.tagName?d:d.getElementsByTagName("form")[0],a=d.getElementsByTagName("textarea")[0];return null==g&&(g=this.create("input",{type:"hidden",name:"parent",id:"comment-parent"}),h.appendChild(g)),g.setAttribute("value",c),null==this.dom("comment-form-place-holder")&&(e=this.create("div",{id:"comment-form-place-holder"}),d.parentNode.insertBefore(e,d)),f.appendChild(d),this.dom("cancel-comment-reply-link").style.display="",null!=a&&"text"==a.name&&a.focus(),!1},cancelReply:function(){var a=this.dom(mdui.$("#respondid").html()),b=this.dom("comment-form-place-holder"),c=this.dom("comment-parent");return null!=c&&c.parentNode.removeChild(c),null==b||(this.dom("cancel-comment-reply-link").style.display="none",b.parentNode.insertBefore(a,b),!1)}})}function replyComment(a){replyId="#reply-"+a,mdui.$(".mdui-card-actions").removeClass("mdui-hidden"),mdui.$(replyId).addClass("mdui-hidden"),mdui.$("#"+mdui.$("#respondid").html()).addClass("mdui-container")}function cancelReply(){mdui.$(".mdui-card-actions").removeClass("mdui-hidden"),mdui.$("#"+mdui.$("#respondid").html()).removeClass("mdui-container")}function pageNav(){mdui.$("#pagenav")&&mdui.$("#pagenav a").addClass("mdui-btn mdui-ripple mdui-text-color-theme-accent")}function drawerActive(){mdui.$("a.mdui-list-item").removeClass("mdui-list-item-active");var a=mdui.$("a.mdui-list-item").filter(function(a,b){if(mdui.$(b).prop("href")==window.location.href)return!0});a.addClass("mdui-list-item-active"),a.length||-1==window.location.href.indexOf(window.location.host+"/page/")||mdui.$("#home-url").addClass("mdui-list-item-active")}function loadAnimation(){setTimeout(function(){mdui.$("html").css("scroll-behavior","smooth"),mdui.$(".load-indicator").addClass("load-indicator-hidden"),mdui.$(".translate-box").addClass("translate-box-hidden"),mdui.$("#main").addClass("content-show")},0)}mdui.$(function(){"undefined"!=typeof Pjax&&new Pjax({selectors:["title","meta[name=description]","#main",".translate-box"],cacheBust:!1}),pageNav(),commentRespond(),drawerActive(),loadAnimation(),"undefined"!=typeof SmoothScroll&&SmoothScroll({animationTime:320,stepSize:120,accelerationMax:1,touchpadSupport:!0})}),document.addEventListener("pjax:send",function(){setTimeout(function(){mdui.$("html").css("scroll-behavior","auto")},0),mdui.$(".load-indicator").removeClass("load-indicator-hidden"),1024>window.innerWidth&&new mdui.Drawer("#drawer").close()}),document.addEventListener("pjax:complete",function(){pageNav(),commentRespond(),drawerActive(),loadAnimation(),darkInit()}),window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?mdui.$("#scrolltop").removeClass("mdui-fab-hide"):mdui.$("#scrolltop").addClass("mdui-fab-hide")};
