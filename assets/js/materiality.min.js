/* materiality-typecho-theme */
var $$=mdui.JQ;function CommentScript(){var m=$$("#respondid").html();window.TypechoComment={dom:function(e){return document.getElementById(e)},create:function(e,t){var n=document.createElement(e);for(var o in t)n.setAttribute(o,t[o]);return n},reply:function(e,t){var n=this.dom(e),o=(n.parentNode,this.dom(m)),a=this.dom("comment-parent"),d="form"==o.tagName?o:o.getElementsByTagName("form")[0],i=o.getElementsByTagName("textarea")[0];if(null==a&&(a=this.create("input",{type:"hidden",name:"parent",id:"comment-parent"}),d.appendChild(a)),a.setAttribute("value",t),null==this.dom("comment-form-place-holder")){var r=this.create("div",{id:"comment-form-place-holder"});o.parentNode.insertBefore(r,o)}return n.appendChild(o),this.dom("cancel-comment-reply-link").style.display="",null!=i&&"text"==i.name&&i.focus(),!1},cancelReply:function(){var e=this.dom(m),t=this.dom("comment-form-place-holder"),n=this.dom("comment-parent");return null!=n&&n.parentNode.removeChild(n),null==t||(this.dom("cancel-comment-reply-link").style.display="none",t.parentNode.insertBefore(e,t),!1)}}}function pageNav(){$$(".page-nav a, .page-nav .mdui-btn-group div").addClass("mdui-btn mdui-ripple mdui-text-color-theme-accent"),$$(".prev, .next").addClass("mdui-icon materiality-icons"),$$(".page-nav .mdui-btn-group div").attr("mdui-tooltip","{content: '共有"+$$(".total-pages").text()+"篇文章'}")}function lazyLoad(){$$(".mdui-typo img").addClass("mdui-img-fluid lazyload");for(var e=document.getElementsByClassName("lazyload"),t=0;t<e.length;t++)e[t].setAttribute("data-src",e[t].getAttribute("src"));$$(".lazyload").removeAttr("src")}$$(function(){new Pjax({selectors:["title","meta[name=description]","meta[name=keywords]",".page-content>.mdui-container"],cacheBust:!1}),pageNav(),lazyLoad(),CommentScript(),SmoothScroll({animationTime:300,stepSize:75}),$$(".load-indicator").addClass("load-indicator-hidden"),$$(".page-content").removeClass("mdui-hidden");for(var e=document.cookie.split(";"),t=0;t<e.length;t++)0==e[t].trim().indexOf("theme=")&&(p=1)}),document.addEventListener("pjax:send",function(){$$(".load-indicator").removeClass("load-indicator-hidden"),window.innerWidth<1024&&new mdui.Drawer("#drawer").close()}),document.addEventListener("pjax:complete",function(){$$(".load-indicator").addClass("load-indicator-hidden"),$$(".page-content").removeClass("mdui-hidden"),pageNav(),lazyLoad(),CommentScript(),p&&autodark()}),window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?$$("#scrolltop").removeClass("mdui-fab-hide"):$$("#scrolltop").addClass("mdui-fab-hide")};
