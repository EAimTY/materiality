/* materiality-typecho-theme
 * https://github.com/EAimTY/materiality-typecho-theme
 * Licensed under The GNU General Public License v3.0
 */function commentRespond(){document.getElementById("respondid")&&(window.TypechoComment={dom:function(a){return document.getElementById(a)},create:function(e,d){var a=document.createElement(e);for(var b in d)a.setAttribute(b,d[b]);return a},reply:function(a,e){var b,g=this.dom(a),i=(g.parentNode,this.dom(mdui.$("#respondid").html())),f=this.dom("comment-parent"),j="form"==i.tagName?i:i.getElementsByTagName("form")[0],k=i.getElementsByTagName("textarea")[0];return null==f&&(f=this.create("input",{type:"hidden",name:"parent",id:"comment-parent"}),j.appendChild(f)),f.setAttribute("value",e),null==this.dom("comment-form-place-holder")&&(b=this.create("div",{id:"comment-form-place-holder"}),i.parentNode.insertBefore(b,i)),g.appendChild(i),this.dom("cancel-comment-reply-link").style.display="",null!=k&&"text"==k.name&&k.focus(),!1},cancelReply:function(){var c=this.dom(mdui.$("#respondid").html()),d=this.dom("comment-form-place-holder"),a=this.dom("comment-parent");return null!=a&&a.parentNode.removeChild(a),null==d||(this.dom("cancel-comment-reply-link").style.display="none",d.parentNode.insertBefore(c,d),!1)}})}function replyComment(a){replyId="#reply-"+a,mdui.$(".mdui-card-actions").removeClass("mdui-hidden"),mdui.$(replyId).addClass("mdui-hidden"),mdui.$("#"+mdui.$("#respondid").html()).addClass("mdui-container")}function cancelReply(){mdui.$(".mdui-card-actions").removeClass("mdui-hidden"),mdui.$("#"+mdui.$("#respondid").html()).removeClass("mdui-container")}function drawerActive(){mdui.$("a.mdui-list-item").removeClass("mdui-list-item-active");var a=mdui.$("a.mdui-list-item").filter(function(b,c){if(mdui.$(c).prop("href")==window.location.href)return!0});a.addClass("mdui-list-item-active"),a.length||-1==window.location.href.indexOf(window.location.host+"/page/")||mdui.$("#home-url").addClass("mdui-list-item-active")}function loadAnimation(){setTimeout(function(){mdui.$("html").css("scroll-behavior","smooth"),mdui.$(".load-indicator").addClass("load-indicator-hidden"),mdui.$(".translate-box").addClass("translate-box-hidden"),mdui.$("#main").addClass("content-show")},0)}mdui.$(function(){"undefined"!=typeof Pjax&&new Pjax({selectors:["title","meta[name=description]","#main",".translate-box"],cacheBust:!1}),commentRespond(),drawerActive(),loadAnimation(),"undefined"!=typeof SmoothScroll&&SmoothScroll({animationTime:320,stepSize:120,accelerationMax:1,touchpadSupport:!0}),"undefined"!=typeof hljs&&hljs.initHighlightingOnLoad()}),document.addEventListener("pjax:send",function(){setTimeout(function(){mdui.$("html").css("scroll-behavior","auto")},0),mdui.$(".load-indicator").removeClass("load-indicator-hidden"),1024>window.innerWidth&&new mdui.Drawer("#drawer").close()}),document.addEventListener("pjax:complete",function(){darkInit(),commentRespond(),drawerActive(),loadAnimation(),"undefined"!=typeof hljs&&document.querySelectorAll("pre code").forEach(b=>{hljs.highlightBlock(b)})}),window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?mdui.$("#scrolltop").removeClass("mdui-fab-hide"):mdui.$("#scrolltop").addClass("mdui-fab-hide")};
